datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL") // Connection string do Supabase
}

generator client {
  provider = "prisma-client-js"
}

model Receipt {
  id            String   @id @default(cuid())
  title         String
  amountCents   Int
  currency      String   @default("BRL")
  occurredAt    DateTime @db.Timestamptz(6)
  sourceFile    String   // ex.: /files/2025/arquivo.pdf
  rawText       String
  ocrEngine     String   // "pdf-text" | "tesseract"
  ocrConfidence Float?
  category      String?
  createdAt     DateTime @default(now()) @db.Timestamptz(6)
  updatedAt     DateTime @updatedAt      @db.Timestamptz(6)

  @@index([occurredAt])
  @@index([createdAt])
  @@index([category])
}
